{"ast":null,"code":"var _jsxFileName = \"D:\\\\bd\\\\client\\\\src\\\\components\\\\Navbar\\\\NotificationButton.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNotifications } from '../../contexts/NotificationContext';\nimport { BellIcon } from '@heroicons/react/outline';\nimport { ExclamationCircleIcon } from '@heroicons/react/solid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NotificationButton = () => {\n  _s();\n  const [isOpen, setIsOpen] = useState(false);\n  const [error, setError] = useState(null);\n  const {\n    notifications,\n    unreadCount,\n    markAsRead,\n    markAllAsRead\n  } = useNotifications();\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (isOpen && !event.target.closest('.notification-panel')) {\n        setIsOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [isOpen]);\n  const handleNotificationClick = async notificationId => {\n    try {\n      await markAsRead(notificationId);\n      setIsOpen(false);\n      setError(null);\n    } catch (err) {\n      setError('Failed to mark notification as read');\n    }\n  };\n  const handleMarkAllAsRead = async () => {\n    try {\n      await markAllAsRead();\n      setError(null);\n    } catch (err) {\n      setError('Failed to mark all notifications as read');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        setIsOpen(!isOpen);\n        setError(null);\n      },\n      className: \"relative p-2 rounded-full text-white hover:text-purple-200 hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:ring-offset-2 transition-all duration-200\",\n      \"aria-label\": \"Toggle notifications\",\n      children: [/*#__PURE__*/_jsxDEV(BellIcon, {\n        className: \"h-6 w-6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"absolute -top-1 -right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform bg-purple-500 rounded-full ring-2 ring-white animate-pulse\",\n        children: unreadCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notification-panel absolute right-0 mt-2 w-80 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-50 border border-white/20 transform transition-all duration-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-2 border-b border-white/10\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-white\",\n            children: \"Notifications\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleMarkAllAsRead,\n            className: \"text-sm text-purple-300 hover:text-purple-200 transition-colors duration-200\",\n            children: \"Mark all as read\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center text-red-400 text-sm mt-2\",\n          children: [/*#__PURE__*/_jsxDEV(ExclamationCircleIcon, {\n            className: \"h-5 w-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this), error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-white/20 scrollbar-track-transparent\",\n        children: notifications.length > 0 ? notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => handleNotificationClick(notification.id),\n          className: `px-4 py-3 hover:bg-white/5 cursor-pointer transition-colors duration-200 ${!notification.read ? 'bg-purple-500/10' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-medium text-white\",\n            children: notification.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-300 mt-1\",\n            children: notification.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-400 mt-1\",\n            children: new Date(notification.createdAt).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 19\n          }, this)]\n        }, notification.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-3 text-sm text-gray-300 text-center\",\n          children: \"No notifications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(NotificationButton, \"217kvpwrHeGIGkFnxs2fUfNr2kg=\", false, function () {\n  return [useNotifications];\n});\n_c = NotificationButton;\nexport default NotificationButton;\nvar _c;\n$RefreshReg$(_c, \"NotificationButton\");","map":{"version":3,"names":["React","useState","useEffect","useNotifications","BellIcon","ExclamationCircleIcon","jsxDEV","_jsxDEV","NotificationButton","_s","isOpen","setIsOpen","error","setError","notifications","unreadCount","markAsRead","markAllAsRead","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","handleNotificationClick","notificationId","err","handleMarkAllAsRead","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","length","map","notification","id","read","title","message","Date","createdAt","toLocaleString","_c","$RefreshReg$"],"sources":["D:/bd/client/src/components/Navbar/NotificationButton.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNotifications } from '../../contexts/NotificationContext';\nimport { BellIcon } from '@heroicons/react/outline';\nimport { ExclamationCircleIcon } from '@heroicons/react/solid';\n\nconst NotificationButton = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [error, setError] = useState(null);\n  const { notifications, unreadCount, markAsRead, markAllAsRead } = useNotifications();\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (isOpen && !event.target.closest('.notification-panel')) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [isOpen]);\n\n  const handleNotificationClick = async (notificationId) => {\n    try {\n      await markAsRead(notificationId);\n      setIsOpen(false);\n      setError(null);\n    } catch (err) {\n      setError('Failed to mark notification as read');\n    }\n  };\n\n  const handleMarkAllAsRead = async () => {\n    try {\n      await markAllAsRead();\n      setError(null);\n    } catch (err) {\n      setError('Failed to mark all notifications as read');\n    }\n  };\n\n  return (\n    <div className=\"relative\">\n      <button\n        onClick={() => {\n          setIsOpen(!isOpen);\n          setError(null);\n        }}\n        className=\"relative p-2 rounded-full text-white hover:text-purple-200 hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:ring-offset-2 transition-all duration-200\"\n        aria-label=\"Toggle notifications\"\n      >\n        <BellIcon className=\"h-6 w-6\" />\n        {unreadCount > 0 && (\n          <span className=\"absolute -top-1 -right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform bg-purple-500 rounded-full ring-2 ring-white animate-pulse\">\n            {unreadCount}\n          </span>\n        )}\n      </button>\n\n      {isOpen && (\n        <div className=\"notification-panel absolute right-0 mt-2 w-80 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-50 border border-white/20 transform transition-all duration-200\">\n          <div className=\"px-4 py-2 border-b border-white/10\">\n            <div className=\"flex justify-between items-center mb-2\">\n              <h3 className=\"text-lg font-semibold text-white\">Notifications</h3>\n              {unreadCount > 0 && (\n                <button\n                  onClick={handleMarkAllAsRead}\n                  className=\"text-sm text-purple-300 hover:text-purple-200 transition-colors duration-200\"\n                >\n                  Mark all as read\n                </button>\n              )}\n            </div>\n            {error && (\n              <div className=\"flex items-center text-red-400 text-sm mt-2\">\n                <ExclamationCircleIcon className=\"h-5 w-5 mr-2\" />\n                {error}\n              </div>\n            )}\n          </div>\n          <div className=\"max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-white/20 scrollbar-track-transparent\">\n            {notifications.length > 0 ? (\n              notifications.map((notification) => (\n                <div\n                  key={notification.id}\n                  onClick={() => handleNotificationClick(notification.id)}\n                  className={`px-4 py-3 hover:bg-white/5 cursor-pointer transition-colors duration-200 ${!notification.read ? 'bg-purple-500/10' : ''}`}\n                >\n                  <p className=\"text-sm font-medium text-white\">\n                    {notification.title}\n                  </p>\n                  <p className=\"text-sm text-gray-300 mt-1\">\n                    {notification.message}\n                  </p>\n                  <p className=\"text-xs text-gray-400 mt-1\">\n                    {new Date(notification.createdAt).toLocaleString()}\n                  </p>\n                </div>\n              ))\n            ) : (\n              <div className=\"px-4 py-3 text-sm text-gray-300 text-center\">\n                No notifications\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default NotificationButton;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,gBAAgB,QAAQ,oCAAoC;AACrE,SAASC,QAAQ,QAAQ,0BAA0B;AACnD,SAASC,qBAAqB,QAAQ,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/D,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC/B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM;IAAEa,aAAa;IAAEC,WAAW;IAAEC,UAAU;IAAEC;EAAc,CAAC,GAAGd,gBAAgB,CAAC,CAAC;EAEpFD,SAAS,CAAC,MAAM;IACd,MAAMgB,kBAAkB,GAAIC,KAAK,IAAK;MACpC,IAAIT,MAAM,IAAI,CAACS,KAAK,CAACC,MAAM,CAACC,OAAO,CAAC,qBAAqB,CAAC,EAAE;QAC1DV,SAAS,CAAC,KAAK,CAAC;MAClB;IACF,CAAC;IAEDW,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAEL,kBAAkB,CAAC;IAC1D,OAAO,MAAMI,QAAQ,CAACE,mBAAmB,CAAC,WAAW,EAAEN,kBAAkB,CAAC;EAC5E,CAAC,EAAE,CAACR,MAAM,CAAC,CAAC;EAEZ,MAAMe,uBAAuB,GAAG,MAAOC,cAAc,IAAK;IACxD,IAAI;MACF,MAAMV,UAAU,CAACU,cAAc,CAAC;MAChCf,SAAS,CAAC,KAAK,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;IAChB,CAAC,CAAC,OAAOc,GAAG,EAAE;MACZd,QAAQ,CAAC,qCAAqC,CAAC;IACjD;EACF,CAAC;EAED,MAAMe,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACtC,IAAI;MACF,MAAMX,aAAa,CAAC,CAAC;MACrBJ,QAAQ,CAAC,IAAI,CAAC;IAChB,CAAC,CAAC,OAAOc,GAAG,EAAE;MACZd,QAAQ,CAAC,0CAA0C,CAAC;IACtD;EACF,CAAC;EAED,oBACEN,OAAA;IAAKsB,SAAS,EAAC,UAAU;IAAAC,QAAA,gBACvBvB,OAAA;MACEwB,OAAO,EAAEA,CAAA,KAAM;QACbpB,SAAS,CAAC,CAACD,MAAM,CAAC;QAClBG,QAAQ,CAAC,IAAI,CAAC;MAChB,CAAE;MACFgB,SAAS,EAAC,oLAAoL;MAC9L,cAAW,sBAAsB;MAAAC,QAAA,gBAEjCvB,OAAA,CAACH,QAAQ;QAACyB,SAAS,EAAC;MAAS;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAC/BpB,WAAW,GAAG,CAAC,iBACdR,OAAA;QAAMsB,SAAS,EAAC,2LAA2L;QAAAC,QAAA,EACxMf;MAAW;QAAAiB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CACP;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACK,CAAC,EAERzB,MAAM,iBACLH,OAAA;MAAKsB,SAAS,EAAC,wKAAwK;MAAAC,QAAA,gBACrLvB,OAAA;QAAKsB,SAAS,EAAC,oCAAoC;QAAAC,QAAA,gBACjDvB,OAAA;UAAKsB,SAAS,EAAC,wCAAwC;UAAAC,QAAA,gBACrDvB,OAAA;YAAIsB,SAAS,EAAC,kCAAkC;YAAAC,QAAA,EAAC;UAAa;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EAClEpB,WAAW,GAAG,CAAC,iBACdR,OAAA;YACEwB,OAAO,EAAEH,mBAAoB;YAC7BC,SAAS,EAAC,8EAA8E;YAAAC,QAAA,EACzF;UAED;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CACT;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,EACLvB,KAAK,iBACJL,OAAA;UAAKsB,SAAS,EAAC,6CAA6C;UAAAC,QAAA,gBAC1DvB,OAAA,CAACF,qBAAqB;YAACwB,SAAS,EAAC;UAAc;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EACjDvB,KAAK;QAAA;UAAAoB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eACN5B,OAAA;QAAKsB,SAAS,EAAC,8FAA8F;QAAAC,QAAA,EAC1GhB,aAAa,CAACsB,MAAM,GAAG,CAAC,GACvBtB,aAAa,CAACuB,GAAG,CAAEC,YAAY,iBAC7B/B,OAAA;UAEEwB,OAAO,EAAEA,CAAA,KAAMN,uBAAuB,CAACa,YAAY,CAACC,EAAE,CAAE;UACxDV,SAAS,EAAE,4EAA4E,CAACS,YAAY,CAACE,IAAI,GAAG,kBAAkB,GAAG,EAAE,EAAG;UAAAV,QAAA,gBAEtIvB,OAAA;YAAGsB,SAAS,EAAC,gCAAgC;YAAAC,QAAA,EAC1CQ,YAAY,CAACG;UAAK;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClB,CAAC,eACJ5B,OAAA;YAAGsB,SAAS,EAAC,4BAA4B;YAAAC,QAAA,EACtCQ,YAAY,CAACI;UAAO;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpB,CAAC,eACJ5B,OAAA;YAAGsB,SAAS,EAAC,4BAA4B;YAAAC,QAAA,EACtC,IAAIa,IAAI,CAACL,YAAY,CAACM,SAAS,CAAC,CAACC,cAAc,CAAC;UAAC;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjD,CAAC;QAAA,GAZCG,YAAY,CAACC,EAAE;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAajB,CACN,CAAC,gBAEF5B,OAAA;UAAKsB,SAAS,EAAC,6CAA6C;UAAAC,QAAA,EAAC;QAE7D;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MACN;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAC1B,EAAA,CAvGID,kBAAkB;EAAA,QAG4CL,gBAAgB;AAAA;AAAA2C,EAAA,GAH9EtC,kBAAkB;AAyGxB,eAAeA,kBAAkB;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}